<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>一拍一剪</title>
    <link rel="icon" href="./img/logo-正.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Roboto:wght@300;500&display=swap" rel="stylesheet">
    <!-- 引入外部 CSS 檔案 -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- 導覽列 -->
    <nav class="navbar">
        <!-- Logo -->
        <a href="index.html" class="logo">
            <img src="./img/logo.png" alt="一拍一剪 Logo" class="nav-logo">
        </a>

        <!-- 電腦版選單 -->
        <ul class="nav-links">
            <li><a href="#首頁">首頁</a></li>
            <li><a href="#關於我們">關於我們</a></li>
            <li><a href="#最新公告">最新公告</a></li>
            <li><a href="#作品集">作品集</a></li>
            <li><a href="#聯絡我們">聯絡我們</a></li>
        </ul>

        <!-- 手機版漢堡按鈕 -->
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <!-- 手機側邊選單（預設隱藏） -->
        <div class="mobile-menu">
            <ul class="mobile-nav-links">
                <li><a href="#首頁">首頁</a></li>
                <li><a href="#關於我們">關於我們</a></li>
                <li><a href="#最新公告">最新公告</a></li>
                <li><a href="#作品集">作品集</a></li>
                <li><a href="#聯絡我們">聯絡我們</a></li>
            </ul>
        </div>
    </nav>
    
    <!-- 首頁英雄區（背景影片） -->
    <section id="首頁" class="hero">
        <video autoplay muted loop playsinline class="hero-video">
            <source src="./img/首頁影片.mp4" type="video/mp4">
            你的瀏覽器不支援影片播放。
        </video>
        <div class="hero-content">
            <img src="./img/logo.png" alt="一拍一剪 Logo" class="hero-logo">
            <p>捕捉台灣廟會的靈動瞬間，記錄信仰與文化的神秘之美。</p>
        </div>
    </section>

    <!-- 關於我們 -->
    <section id="關於我們" class="section">
        <h2 class="section-title">關於我們</h2>

        <!-- 新增：並排的三個自我介紹卡片 -->
        <div class="members-grid">
            <!-- 成員 1 -->
            <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/將.jpeg" alt="成員1" width="150px">
                <p class="member-name">剪輯組長・將神<p>
                <a href="https://www.instagram.com/52_mazu_js/"><img src="./img/instagram logo .png" alt="ig" width="50px"></a>
                <a href="https://www.youtube.com/@17F_YiCrazy"><img src="./img/Youtube_logo.png" alt="yt" height="50px"></a>
                <a href="https://www.tiktok.com/@mazu_fs_ty?is_from_webapp=1&sender_device=pc"><img src="./img/tiktok logo.png" alt="tk" width="50px"></a>
            </div>

            <!-- 成員 2 -->
            <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/卓.jpeg" alt="成員2" width="150px">
                <p class="member-name">攝影組長・卓ㄟ</p>
                <a href="https://www.instagram.com/jyc07_12/"><img src="./img/instagram logo .png" alt="ig" width="50px"></a>
                <a href="https://www.youtube.com/@jyc-0712"><img src="./img/Youtube_logo.png" alt="yt" height="50px"></a>
                <a href="https://www.tiktok.com/@damn4425?is_from_webapp=1&sender_device=pc"><img src="./img/tiktok logo.png" alt="tk" width="50px"></a>
            </div>
            
            <!-- 成員 3 -->
            <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/花.jpg" alt="成員3" width="150px">
                <p class="member-name">公關組・花椰菜</p>
                <a href="https://www.instagram.com/su_love_temple_/"><img src="./img/instagram logo .png" alt="ig" width="50px"></a>
                <a href="https://www.tiktok.com/@oliver5607?is_from_webapp=1&sender_device=pc"><img src="./img/tiktok logo.png" alt="tk" width="50px"></a>
            </div>

            <!-- 成員 4 -->
            <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/瑋.jpg" alt="成員4" width="150px">
                <p class="member-name">攝影組・阿瑋星人</p>
                <a href="https://www.instagram.com/jerry.boos.x/"><img src="./img/instagram logo .png" alt="ig" width="50px"></a>
                <a href="https://www.tiktok.com/@user3857861358433?is_from_webapp=1&sender_device=pc"><img src="./img/tiktok logo.png" alt="tk" width="50px"></a>
            </div>  

            <!-- 成員 5 -->
            <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/宥.jpg" alt="成員6" width="150px">
                <p class="member-name">資訊組・宥哥</p>
                <a href="https://www.instagram.com/0607_rick/"><img src="./img/instagram logo .png" alt="ig" width="50px"></a>
                <a href="https://www.youtube.com/channel/UCEVwmE9FHo3-uc_p1oVSy2Q"><img src="./img/Youtube_logo.png" alt="yt" height="50px"></a>
                <a href="https://www.tiktok.com/@0607._.rick?lang=zh-Hant-TW"><img src="./img/tiktok logo.png" alt="tk" width="50px"></a>
        
            </div>

            <!-- 成員 6 -->
            <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/瑄.JPG" alt="成員6" width="150px">
                <p class="member-name">攝影組・阿瑄</p>
            </div>

            <!-- 成員 7 -->
            <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/潘.jpg" alt="成員7" width="150px">
                <p class="member-name">攝影兼剪輯組・阿潘</p>
                <a href="https://www.instagram.com/pan1001203/"><img src="./img/instagram logo .png" alt="ig" width="50px"></a>
                <a href="https://www.youtube.com/@%E9%98%BF%E6%BD%98%E7%9A%84%E9%A0%BB%E9%81%93"><img src="./img/Youtube_logo.png" alt="yt" height="50px"></a>
                <a href="https://www.tiktok.com/@uso540?is_from_webapp=1&sender_device=pc"><img src="./img/tiktok logo.png" alt="tk" width="50px"></a>
            </div>

            <!-- 成員 8 -->
             <div class="member-card">
                <h3>成員介紹</h3>
                <img  src="./img/豪.jpg" alt="成員7" width="150px">
                <p class="member-name">書法標體組・豪哥</p>
                <a href="https://www.instagram.com/jinhao_1001/"><img src="./img/instagram logo .png" alt="ig" width="50px"></a>
                <a href="https://www.tiktok.com/@user8268666503820?is_from_webapp=1&sender_device=pc"><img src="./img/tiktok logo.png" alt="tk" width="50px"></a>
            </div>

        </div>    
        <!-- 團隊整體描述 -->
        <p class="about-text">✶兩位小小攝影師所創立的團隊🤝我們熱愛台灣廟會文化，所以想紀錄下廟會界大大小小事務</p>
    </section>

    <!-- 最新公告 -->
    <section id="最新公告">
        <h2>最新公告</h2>
        <div id="announcements-container"></div>
    </section>

    <script>
        async function loadAnnouncements() {
            const container = document.getElementById('announcements-container');
            if (!container) return;

            const response = await fetch('https://api.github.com/repos/20251p1ctw/1p1c/contents/announcements');
            const files = await response.json();
            const announcements = [];

            for (const file of files) {
                if (file.name.endsWith('.md')) {
                    const contentResp = await fetch(file.download_url);
                    const markdown = await contentResp.text();
                    const frontMatter = markdown.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
                    if (frontMatter) {
                        const yaml = frontMatter[1];
                        const body = frontMatter[2];
                        const title = yaml.match(/title: (.*)/)?.[1]?.trim().replace(/^["']|["']$/g, '') || '無標題';
                        const date = yaml.match(/date: (.*)/)?.[1] || '';
                        const image = yaml.match(/image:\s*(.*)/)?.[1]?.trim().replace(/^["']|["']$/g, '') || '';

                        let processedImage = image;
                        if (image && !image.startsWith('http') && !image.startsWith('/1p1c')) {
                            processedImage = '/1p1c' + image;
                        }

                        if (title) {
                            announcements.push({ title, date, body, image: processedImage });
                        }
                    }
                }
            }

            announcements.sort((a, b) => new Date(b.date) - new Date(a.date));

            container.innerHTML = announcements.map(ann => `
                <article style="margin-bottom: 40px; padding: 20px; background: #FFFFFF; border-radius: 12px; text-align: center;">
                    ${ann.image ? `
                        <img src="${ann.image}" alt="${ann.title}" style="max-width:100%; border-radius:12px; margin-bottom:20px; display:block;">
                    ` : ''}
                    <h3 style="font-size: 28px; color: #FF359A; margin-bottom: 10px;">${ann.title}</h3>
                    ${ann.date ? `<p style="color:#aaa; margin-bottom: 15px;"><small>${new Date(ann.date).toLocaleDateString('zh-TW')}</small></p>` : ''}
                    <div style="line-height:1.9; font-size:1.1em; color:#000000; text-align:center; padding:25px; border-radius:12px; max-width:900px; margin:20px auto;">
                        ${marked.parse(ann.body)
                            .replace(/src="\/images\//g, 'src="/1p1c/images/')
                            .replace(/src='\/images\//g, 'src=\'/1p1c/images/')
                        }
                    </div>
                </article>
            `).join('');

            if (announcements.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#aaa;">目前沒有公告</p>';
            }
        }

        loadAnnouncements();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- 作品集 -->
    <section id="作品集" class="section">
        <h2>作品集</h2>
        <a href="Portfolio.html" class="btn-secondary">點我進入作品集</a>
    </section>

    <!-- 聯絡我們 -->
    <section id="聯絡我們" class="section alternate">
        <div class="content-wrapper">
            <h2>聯絡我們</h2>
            
            <div class="contact-buttons">
                <!-- Email 按鈕 -->
                <a href="mailto:2025.1p1c.tw@gmail.com" class="contact-btn email-btn">
                    <img src="./img/email logo.png" alt="Email" class="btn-icon">
                    Email 聯絡我們
                </a>
                
                <!-- LINE 按鈕 -->
                <a href="https://line.me/ti/p/@632jsgvl" target="_blank" class="contact-btn line-btn">
                    <img src="./img/line logo.png" alt="LINE" class="btn-icon">
                    官方 LINE
                </a>
                
                <!-- Instagram 按鈕 -->
                <a href="https://www.instagram.com/1p1c_cam/" target="_blank" class="contact-btn ig-btn">
                    <img src="./img/instagram logo .png" alt="Instagram" class="btn-icon">
                    追蹤我們的 IG
                </a>
                
                <!-- YouTube 按鈕 -->
                <a href="https://www.youtube.com/@1P1C-cam" target="_blank" class="contact-btn yt-btn">
                    <img src="./img/Youtube logo.png" alt="YouTube" class="btn-icon">
                    訂閱我們的 YT
                </a>
                
                <!-- TikTok 按鈕（新增） -->
                <a href="https://www.tiktok.com/@1p1c5" target="_blank" class="contact-btn tiktok-btn">
                    <img src="./img/tiktok logo.png" alt="TikTok" class="btn-icon">
                    追蹤我們的 TikTok
                </a>
                
                <!-- Facebook 按鈕（新增） -->
                <a href="https://www.facebook.com/profile.php?id=61578754685143" target="_blank" class="contact-btn fb-btn">
                    <img src="./img/facebook logo.png" alt="Facebook" class="btn-icon">
                    追蹤我們的 FB
                </a>
            </div>
        </div>
    </section>

    <!-- ===== 這裡加上 JavaScript，放在 </body> 前 ===== -->
    <script>
        const hamburger = document.querySelector('.hamburger');
        const mobileMenu = document.querySelector('.mobile-menu');

        // 確保元素存在才綁定事件（安全做法）
        if (hamburger && mobileMenu) {
            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                mobileMenu.classList.toggle('active');
            });

            // 點選單項目後自動關閉側邊欄
            document.querySelectorAll('.mobile-nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    hamburger.classList.remove('active');
                    mobileMenu.classList.remove('active');
                });
            });
        }
    </script>

</body>
</html>